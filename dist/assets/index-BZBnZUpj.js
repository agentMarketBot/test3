(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(t){if(t.ep)return;t.ep=!0;const n=s(t);fetch(t.href,n)}})();class r{constructor(){this.targetDate=null,this.interval=null,this.isActive=!1,this.initializeElements(),this.attachEventListeners(),this.setDefaultDate()}initializeElements(){this.elements={targetDateInput:document.getElementById("target-date"),startBtn:document.getElementById("start-btn"),resetBtn:document.getElementById("reset-btn"),days:document.getElementById("days"),hours:document.getElementById("hours"),minutes:document.getElementById("minutes"),seconds:document.getElementById("seconds"),message:document.getElementById("message")}}attachEventListeners(){this.elements.startBtn.addEventListener("click",()=>this.toggleCountdown()),this.elements.resetBtn.addEventListener("click",()=>this.resetCountdown()),this.elements.targetDateInput.addEventListener("change",()=>this.validateDate())}setDefaultDate(){const e=new Date;e.setDate(e.getDate()+1),e.setHours(12,0,0,0);const s=e.toISOString().slice(0,16);this.elements.targetDateInput.value=s}validateDate(){return new Date(this.elements.targetDateInput.value)<=new Date?(this.elements.message.textContent="Please select a future date and time",this.elements.message.className="message expired",!1):(this.elements.message.textContent="",this.elements.message.className="message",!0)}toggleCountdown(){this.isActive?this.stopCountdown():this.startCountdown()}startCountdown(){this.validateDate()&&(this.targetDate=new Date(this.elements.targetDateInput.value),this.isActive=!0,this.elements.startBtn.textContent="Stop",this.elements.targetDateInput.disabled=!0,this.updateDisplay(),this.interval=setInterval(()=>this.updateDisplay(),1e3),this.elements.message.textContent=`Counting down to ${this.targetDate.toLocaleString()}`,this.elements.message.className="message")}stopCountdown(){this.isActive=!1,this.elements.startBtn.textContent="Start Countdown",this.elements.targetDateInput.disabled=!1,this.interval&&(clearInterval(this.interval),this.interval=null),this.elements.message.textContent="Countdown stopped",this.elements.message.className="message"}resetCountdown(){this.stopCountdown(),this.setDefaultDate(),this.updateDisplay(!0),this.elements.message.textContent="",this.elements.message.className="message"}updateDisplay(e=!1){if(e){this.elements.days.textContent="00",this.elements.hours.textContent="00",this.elements.minutes.textContent="00",this.elements.seconds.textContent="00";return}const s=new Date().getTime(),t=this.targetDate.getTime()-s;if(t<=0){this.handleCountdownExpired();return}const n=this.calculateTimeValues(t);this.displayTimeValues(n)}calculateTimeValues(e){return{days:Math.floor(e/(1e3*60*60*24)),hours:Math.floor(e%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(e%(1e3*60*60)/(1e3*60)),seconds:Math.floor(e%(1e3*60)/1e3)}}displayTimeValues(e){this.elements.days.textContent=this.formatTimeValue(e.days),this.elements.hours.textContent=this.formatTimeValue(e.hours),this.elements.minutes.textContent=this.formatTimeValue(e.minutes),this.elements.seconds.textContent=this.formatTimeValue(e.seconds)}formatTimeValue(e){return e.toString().padStart(2,"0")}handleCountdownExpired(){this.elements.days.textContent="00",this.elements.hours.textContent="00",this.elements.minutes.textContent="00",this.elements.seconds.textContent="00",this.elements.message.textContent="ðŸŽ‰ Time's up! ðŸŽ‰",this.elements.message.className="message expired",this.stopCountdown(),this.playNotificationSound()}playNotificationSound(){try{const e=new(window.AudioContext||window.webkitAudioContext),s=e.createOscillator(),i=e.createGain();s.connect(i),i.connect(e.destination),s.frequency.setValueAtTime(800,e.currentTime),s.frequency.setValueAtTime(600,e.currentTime+.1),s.frequency.setValueAtTime(800,e.currentTime+.2),i.gain.setValueAtTime(.3,e.currentTime),i.gain.exponentialRampToValueAtTime(.01,e.currentTime+.3),s.start(e.currentTime),s.stop(e.currentTime+.3)}catch{console.log("Audio notification not available")}}}document.addEventListener("DOMContentLoaded",()=>{new r});
